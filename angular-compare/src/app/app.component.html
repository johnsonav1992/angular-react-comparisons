<div class="weather-app">
  <app-data-fetching-toggle />

  <header class="app-header">
    <h1 class="app-title">Weather Dashboard</h1>
    <p class="app-subtitle">
      Angular 20 with
      {{
        dataFetchingMethod() === 'rxjs' ? 'RxJS + HttpClient' : 'httpResource'
      }}
    </p>
  </header>

  <app-location-search />

  @if (dataFetchingMethod() === 'rxjs') {
    @if (rxjsLoading() | async; as weather) {
      @if (weather.loading) {
        <app-loading-spinner />
      } @else {
        <app-current-weather-rxjs />
        <app-forecast-list-rxjs />
      }
    }
  } @else {
    @if (loading()) {
      <app-loading-spinner />
    } @else {
      <app-current-weather />
      <app-forecast-list />
    }
  }
</div>
