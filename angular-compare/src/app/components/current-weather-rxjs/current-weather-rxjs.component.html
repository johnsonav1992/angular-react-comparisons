@if (weatherRxJSService.weatherData$ | async; as weather) {
  @if (weather.currentWeather) {
    <div class="current-weather">
      <h2 class="location-name">{{ weather.location }}</h2>
      <div class="current-temp">
        {{
          showCelsius()
            ? ((weather.currentWeather.temperature - 32) * 5/9 | number:'1.0-0')
            :weather.currentWeather.temperature
        }}°{{ showCelsius() ? 'C' : 'F' }}
        <button
          class="temp-toggle"
          (click)="toggleTempUnit()"
          [title]="'Switch to ' + (showCelsius() ? 'Fahrenheit' : 'Celsius')"
        >
          °{{ showCelsius() ? 'F' : 'C' }}
        </button>
      </div>
      <div class="weather-description">
        {{ weather.currentWeather.shortForecast }}
      </div>
      <div class="weather-details">
        <div class="detail-item">
          <div class="detail-label">Wind</div>
          <div class="detail-value">
            {{ weather.currentWeather.windSpeed }}
            {{ weather.currentWeather.windDirection }}
          </div>
        </div>
        @if (
          weather.currentWeather.probabilityOfPrecipitation?.value !== null
        ) {
          <div class="detail-item">
            <div class="detail-label">Rain Chance</div>
            <div class="detail-value">
              {{
                weather.currentWeather.probabilityOfPrecipitation!.value
              }}%
            </div>
          </div>
        }
        <div class="detail-item">
          <div class="detail-label">Period</div>
          <div class="detail-value">{{ weather.currentWeather.name }}</div>
        </div>
      </div>
    </div>
  }
}
